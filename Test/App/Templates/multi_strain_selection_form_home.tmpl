<div class="span4">
	
	<script src="/App/Styling/js/jquery-1.9.1.js"></script>
	<script src="/App/Styling/js/jquery-ui-1.10.1.js"></script>
	<link rel="stylesheet" href="/App/Styling/css/jquery-ui-1.10.1.css">

	<h5 style="margin:10px 0px 0px 0px">Select multiple strains to compare them and view metadata</h5>
		<form class="form">
			<div class="dropdown">
				<a class="btn dropdown-toggle btn-inverse btn-small span5" data-toggle="dropdown" href="#">
					Group 1:
					<span class="caret"></span>
				</a>
				<ul class="dropdown-menu" role="menu">
					<div id="group1">
						<fieldset>
						</fieldset>
					</div>
					<button id="buttonRemoveGroup1" class="btn btn-primary btn-small" type="button" style="display:none;margin:5px 0px 0px 0px" onclick="removeGroup1()"><i class="icon-arrow-left icon-white"></i> Remove from Group 1</button>
				</ul>
			</div>

			<div class="dropdown">
				<a class="btn dropdown-toggle btn-inverse btn-small span5" data-toggle="dropdown" href="#">
					Group 2:
					<span class="caret"></span>
				</a>
				<ul class="dropdown-menu" role="menu">
					<div id="group2">
						<fieldset>
						</fieldset>
					</div>
					<button id="buttonRemoveGroup2" class="btn btn-primary btn-small" type="button" style="display:none;margin:5px 0px 0px 0px" onclick="removeGroup2()"><i class="icon-arrow-left icon-white"></i> Remove from Group 2</button>
				</ul>
			</div>
		</form>

	<form id="mSSearchForm" class="form" action="/home/dispatch.cgi/multi_strain/" method="post" enctype="application/x-www-form-urlencoded">
		<fieldset>
			<div style="height:140px;overflow:auto;border-style:solid;border-width:1px;border-color:#d3d3d3" class="row-fluid">
				<ul id="mSSelection" style="padding:0px;margin:0px">
					<TMPL_LOOP NAME=FEATURES>
					<li style="list-style:none">
						<label class="checkbox">
							<input id="checkboxName" type="checkbox" value='<TMPL_VAR NAME=UNIQUENAME>' name="multiStrainNames"><TMPL_VAR NAME=UNIQUENAME></input>
						</label>
					</li>
					</TMPL_LOOP>
				</ul>
			</div>
		</fieldset>
	</form>

	<div class="span6 btn-group btn-group-vertical">
		<button class="btn btn-primary btn-small span12" type="button" onclick="checkGroup1Fields()"><i class="icon-plus-sign icon-white"></i> Add to Group 1</button>
		<button class="btn btn-primary btn-small span12" type="button" onclick="checkGroup2Fields()"><i class="icon-plus-sign icon-white"></i> Add to Group 2</button>
		<button type="submit" class="btn btn-primary btn-small span12" value="Submit" onclick="checkMSFields(this.form)"><i class="icon-ok icon-white"></i> Compare Strains</button>
		<button type="submit" class="btn btn-primary btn-small span12" value="Submit" onclick="checkMSFields(this.form)"><i class="icon-ok icon-white"></i> Compare Grouped Strains</button>
		<button type="reset" class="btn btn-small btn-danger span12" name="Cancel" value="Cancel"><i class="icon-remove icon-white"></i> Cancel</button>
	</div>

</div>

<script>$('.dropdown-toggle').dropdown()</script>
<script type="text/javascript">
function checkMSFields(mSSearchForm) {
	var selected = 0;
	var i = 0;
	while (i < document.getElementById('mSSearchForm').getElementsByTagName('input').length){
		if (document.getElementById('mSSearchForm').getElementsByTagName('input')[i].checked == true) {
			selected++;
			i++;
		}
		else {
			i++;
		}
	}
	if (selected == 0) {
		alert("You must make a valid selection");
		return false;
	}
	else {
		return true;
	}
}
function checkGroup1Fields() {
	var selected = 0;
	var i = 0;
	while (i < document.getElementById('mSSearchForm').getElementsByTagName('input').length){
		if (document.getElementById('mSSearchForm').getElementsByTagName('input')[i].checked == true) {
			selected++;
			i++;
		}
		else {
			i++;
		}
	}
	if (selected == 0) {
		alert("Nothing to add to Group 1");
		return false;
	}
	else {
		$('#mSSelection li :checked').closest('li').appendTo('#group1');
		$('#buttonRemoveGroup1').show();
		return true;
	}
}
function checkGroup2Fields() {
	var selected = 0;
	var i = 0;
	while (i < document.getElementById('mSSearchForm').getElementsByTagName('input').length){
		if (document.getElementById('mSSearchForm').getElementsByTagName('input')[i].checked == true) {
			selected++;
			i++;
		}
		else {
			i++;
		}
	}
	if (selected == 0) {
		alert("Nothing to add to Group 2");
		return false;
	}
	else {
		$('#mSSelection li :checked').closest('li').appendTo('#group2');
		$('#buttonRemoveGroup2').show();
		return true;
	}
}
function removeGroup1() {
	$('#group1 li :checked').closest('li').appendTo('#mSSelection');
	if ($('#group1 li').length == 0) {
		$('#buttonRemoveGroup1').hide();
	}
	else{
	}
}
function removeGroup2() {
	$('#group2 li :checked').closest('li').appendTo('#mSSelection');
	if ($('#group2 li').length == 0) {
		$('#buttonRemoveGroup2').hide();
	}
	else{
	}
}
</script>